<!DOCTYPE html>
<html lang="en">
  <head>
    {% block head %}
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css"
    />
    <link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='main.css') }}">
    <title>{% block title %}{% endblock %}</title>
    {% endblock %}
  </head>
  <body class="container py-3">
      <header>
        <div class="d-flex flex-column flex-md-row align-items-center pb-3 mb-4 border-bottom">
          <a href="{{ url_for('index') }}" class="d-flex align-items-center text-dark text-decoration-none">
            <img src="{{ url_for('static', filename='logo.png') }}" style="height: 54px;" class="me-3">
            <span class="fs-4">Totara recurring events generator</span>
          </a>
          <nav class="d-inline-flex mt-2 mt-md-0 ms-md-auto">

           {% set navigation_bar = [
              ('index', 'index', 'Home', '&nbsp;'),
              ('upload_rooms', 'upload-rooms', 'Upload Rooms', 'Step 1 (optional)'),
              ('upload_backup', 'upload-backup', 'Add custom fields', 'Step 2 (optional)'),
              ('create_recurring_events', 'create-recurring-events', 'Generate events', 'Step 3'),
          ] -%}
          {% set active_page = active_page|default('index') -%}
          

          {% for href, id, caption, superscript in navigation_bar %}
          <a class="me-3 py-2 px-3 text-dark text-decoration-none {% if id == active_page %} active{% endif
            %}" href="{{ url_for( href|e ) }}"><small class="text-muted fw-light d-block">{{ superscript|safe }}</small>{{ caption|e }}</a>
          {% endfor %}
          </nav>
        </div>
      </header>
      <main>
        {% block content %}{% endblock %}        
      </main>
      <footer class="pt-4 my-md-5 pt-md-5 border-top">
        <div class="row">
          <div class="col-12 col-md">
            <small class="d-block mb-3 text-muted">Totara recurring events generator</small>
          </div>
        </div>
      </footer>
      <script
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf"
        crossorigin="anonymous"></script>
       {% block body_bottom_js %}{% endblock %}
  </body>
</html>
